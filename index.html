<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>MB Sync Ordering Platform</title>
  <link rel="stylesheet" href="styles.css">

  <!-- Favicon & Mobile Icons -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="appicon.jpg">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!-- PDF.js Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

  <!-- ExcelJS Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js"></script>
</head>

<body>
  <div class="container">
    <!-- Header -->
    <header>
      <h1>Product Quality</h1>
    </header>

    <!-- Upload Zone -->
    <div class="upload-zone" id="uploadZone">
      <div class="upload-icon">üìÑ</div>
      <h3>Upload MB Sync PDF Report</h3>
      <p>Click to browse or drag and drop your PDF file here</p>
      <input type="file" id="fileInput" accept=".pdf">
    </div>

    <!-- Loading State -->
    <div class="loading" id="loading">
      <div class="spinner"></div>
      <p>Processing your PDF...</p>
    </div>

    <!-- Summary Stats -->
    <div class="summary-stats" id="summaryStats">
      <div class="stat-card">
        <div class="stat-value" id="statAccepted">0</div>
        <div class="stat-label">Accepted</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="statIncreased">0</div>
        <div class="stat-label">Increased</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="statDecreased">0</div>
        <div class="stat-label">Decreased</div>
      </div>
    </div>

    <!-- Controls: Search & Filters -->
    <div class="controls-container" id="controlsContainer" style="display: none;">
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search items or WRIN...">
        <button id="clearSearch" class="btn-clear" style="display: none;">‚úï</button>
      </div>
      <div class="filter-tabs" id="filterTabs">
        <button class="tab active" data-filter="ALL">All</button>
        <button class="tab" data-filter="Dry">Dry</button>
        <button class="tab" data-filter="Refrigerated">Fridge</button>
        <button class="tab" data-filter="Frozen">Freezer</button>
        <button class="tab" data-filter="Manual Items">Manual</button>
      </div>
    </div>

    <!-- Validation Banner (Hidden by default) -->
    <div class="validation-banner" id="validationBanner" style="display: none;">
      <div class="validation-content">
        <h3>‚ö†Ô∏è Action Required</h3>
        <p>Please fix the highlighted items below.</p>
        <button class="btn-exit-validation" id="exitValidationBtn">Show All Items</button>
      </div>
    </div>

    <!-- Resume Session Banner (Hidden by default) -->
    <div class="resume-banner" id="resumeBanner" style="display: none;">
      <div class="resume-content">
        <h3>üìã Unsaved Progress</h3>
        <p>We found an unsaved session from <span id="resumeTime"></span>.</p>
        <div class="resume-actions">
          <button class="btn-resume" id="btnResume">Resume</button>
          <button class="btn-discard" id="btnDiscard">Discard</button>
        </div>
      </div>
    </div>

    <!-- Items Container -->
    <div class="items-container" id="itemsContainer">
      <div class="items-header">
        <h2>Review Items</h2>
        <div class="items-count" id="itemsCount">0 items</div>
      </div>

      <div class="items-grid" id="itemsGrid">
        <!-- Items will be dynamically inserted here -->
      </div>
    </div>

    <!-- Submit Button -->
    <div class="submit-container" id="submitContainer">
      <button class="btn-submit" id="submitBtn" disabled>
        Generate Excel Spreadsheet
      </button>
    </div>
  </div>

  <!-- Load Libraries -->
  <script src="lib/pdf-parser.js?v=2"></script>
  <script src="lib/template-data.js"></script>
  <script src="lib/logo-data.js"></script>
  <script src="lib/excel-gen.js"></script>
  <script src="app.js"></script>
</body>

</html>